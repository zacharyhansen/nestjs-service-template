{"version":3,"sources":["../../src/auth/auth.controller.ts"],"sourcesContent":["import { Controller, Get, Query, Req, Res } from '@nestjs/common';\nimport { type Request, type Response } from 'express';\nimport type { AuthSchema } from 'kysely-codegen';\n\nimport { Database } from '../database/database';\n\nimport { Public } from './decorators/public.decorator';\n\n@Controller('auth')\nexport class AuthController {\n  constructor(private readonly database: Database) {}\n\n  @Get('test-public')\n  @Public()\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  testPublic(@Query() query: any): Promise<any[]> {\n    return this.database\n      .selectFrom(`${query.schema as AuthSchema}.role`)\n      .selectAll()\n      .execute();\n  }\n\n  @Get('test-private')\n  testPrivate(@Req() request: Request, @Res() response: Response) {\n    return response.send('OK');\n  }\n}\n"],"names":["Controller","Get","Query","Req","Res","Database","Public","AuthController","constructor","database","testPublic","query","selectFrom","schema","selectAll","execute","testPrivate","request","response","send"],"mappings":";;;;;;;;;;;;;;AAAA,SAASA,UAAU,EAAEC,GAAG,EAAEC,KAAK,EAAEC,GAAG,EAAEC,GAAG,QAAQ,iBAAiB;AAIlE,SAASC,QAAQ,QAAQ,0BAAuB;AAEhD,SAASC,MAAM,QAAQ,mCAAgC;AAGvD,OAAO,MAAMC;IACXC,YAAY,AAAiBC,QAAkB,CAAE;aAApBA,WAAAA;IAAqB;IAIlD,8DAA8D;IAC9DC,WAAW,AAASC,KAAU,EAAkB;QAC9C,OAAO,IAAI,CAACF,QAAQ,CACjBG,UAAU,CAAC,GAAGD,MAAME,MAAM,CAAe,KAAK,CAAC,EAC/CC,SAAS,GACTC,OAAO;IACZ;IAGAC,YAAY,AAAOC,OAAgB,EAAE,AAAOC,QAAkB,EAAE;QAC9D,OAAOA,SAASC,IAAI,CAAC;IACvB;AACF"}