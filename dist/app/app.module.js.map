{"version":3,"sources":["../../src/app/app.module.ts"],"sourcesContent":["import { Module } from '@nestjs/common';\nimport { ConfigModule } from '@nestjs/config';\nimport { TRPCModule } from 'nestjs-trpc';\nimport superjson from 'superjson';\n\nimport { AppRouter } from './app.router';\n\nimport { ViewRouter } from '~/view/view.router';\nimport { ViewModule } from '~/view/view.module';\nimport { DatabaseModule } from '~/database/database.module';\nimport getConfigService from '~/env/gcp-secrets/get-config-service';\nimport { QueryModule } from '~/query/query.module';\nimport { QueryRouter } from '~/query/query.router';\nimport { CacheModule } from '~/cache/cache.module';\nimport { envSchema } from '~/env/env.schema';\nimport { EnvModule } from '~/env/env.module';\nimport { SchematicModule } from '~/schematic/schematic.module';\nimport { DatasetRouter } from '~/dataset/dataset.router';\nimport { DatasetModule } from '~/dataset/dataset.module';\nimport { AppContext } from '~/auth/trpc/clerk-context';\n\n@Module({\n  imports: [\n    TRPCModule.forRoot({\n      autoSchemaFile: './@generated',\n      context: AppContext,\n      transformer: superjson,\n    }),\n    ConfigModule.forRoot({\n      load: [getConfigService],\n      validate: env => envSchema.parse(env),\n      isGlobal: true,\n    }),\n    EnvModule,\n    CacheModule,\n    DatabaseModule,\n    DatasetModule,\n    QueryModule,\n    SchematicModule,\n    ViewModule,\n  ],\n  providers: [AppRouter, ViewRouter, QueryRouter, DatasetRouter, AppContext],\n})\nexport class AppModule {}\n"],"names":["Module","ConfigModule","TRPCModule","superjson","AppRouter","ViewRouter","ViewModule","DatabaseModule","getConfigService","QueryModule","QueryRouter","CacheModule","envSchema","EnvModule","SchematicModule","DatasetRouter","DatasetModule","AppContext","AppModule","imports","forRoot","autoSchemaFile","context","transformer","load","validate","env","parse","isGlobal","providers"],"mappings":";;;;;;AAAA,SAASA,MAAM,QAAQ,iBAAiB;AACxC,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,UAAU,QAAQ,cAAc;AACzC,OAAOC,eAAe,YAAY;AAElC,SAASC,SAAS,QAAQ,kBAAe;AAEzC,SAASC,UAAU,QAAQ,yBAAqB;AAChD,SAASC,UAAU,QAAQ,yBAAqB;AAChD,SAASC,cAAc,QAAQ,iCAA6B;AAC5D,OAAOC,sBAAsB,2CAAuC;AACpE,SAASC,WAAW,QAAQ,2BAAuB;AACnD,SAASC,WAAW,QAAQ,2BAAuB;AACnD,SAASC,WAAW,QAAQ,2BAAuB;AACnD,SAASC,SAAS,QAAQ,uBAAmB;AAC7C,SAASC,SAAS,QAAQ,uBAAmB;AAC7C,SAASC,eAAe,QAAQ,mCAA+B;AAC/D,SAASC,aAAa,QAAQ,+BAA2B;AACzD,SAASC,aAAa,QAAQ,+BAA2B;AACzD,SAASC,UAAU,QAAQ,gCAA4B;AAwBvD,OAAO,MAAMC;AAAW;;;QArBtBC,SAAS;YACPjB,WAAWkB,OAAO,CAAC;gBACjBC,gBAAgB;gBAChBC,SAASL;gBACTM,aAAapB;YACf;YACAF,aAAamB,OAAO,CAAC;gBACnBI,MAAM;oBAAChB;iBAAiB;gBACxBiB,UAAUC,CAAAA,MAAOd,UAAUe,KAAK,CAACD;gBACjCE,UAAU;YACZ;YACAf;YACAF;YACAJ;YACAS;YACAP;YACAK;YACAR;SACD;QACDuB,WAAW;YAACzB;YAAWC;YAAYK;YAAaK;YAAeE;SAAW"}