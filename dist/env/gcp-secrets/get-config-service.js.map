{"version":3,"sources":["../../../src/env/gcp-secrets/get-config-service.ts"],"sourcesContent":["import { ConfigService } from '@nestjs/config';\n\nimport { fetchGCPSecrets } from './fetch-secrets';\n\nexport default async function getConfigService() {\n  const config = new ConfigService();\n  // If loading from local we dont get any extra env variables\n  if (config.get('SECRET_SOURCE') === 'LOCAL') {\n    return {};\n  }\n\n  const secrets = await fetchGCPSecrets();\n\n  // TODO: validate secrets\n  return { ...secrets };\n}\n"],"names":["ConfigService","fetchGCPSecrets","getConfigService","config","get","secrets"],"mappings":"AAAA,SAASA,aAAa,QAAQ,iBAAiB;AAE/C,SAASC,eAAe,QAAQ,qBAAkB;AAElD,eAAe,eAAeC;IAC5B,MAAMC,SAAS,IAAIH;IACnB,4DAA4D;IAC5D,IAAIG,OAAOC,GAAG,CAAC,qBAAqB,SAAS;QAC3C,OAAO,CAAC;IACV;IAEA,MAAMC,UAAU,MAAMJ;IAEtB,yBAAyB;IACzB,OAAO;QAAE,GAAGI,OAAO;IAAC;AACtB"}